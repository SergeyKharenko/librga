## librga Changelog (English Summary)

The following table summarizes librga API releases and key changes. For detailed Chinese release notes, see `CHANGELOG.md`.

| Version     | Date       | Recommended Driver (min)          | Key Changes |
|------------|-----------|------------------------------------|-------------|
| 1.10.5     | 2025-07-29 | ≥ 1.3.10 (min 1.2.4)              | Added: RK1820 support, RT-Thread v5.1.x, C symbols for C++ `librga.so` RgaUtils APIs, `impalette()` support for `RK_FORMAT_YCbCr_400`, new samples (palette_demo, C copy demo), CLI configuration for `rga_slt`. Changed: relaxed over-strict constraints for RK3506/RV1103B, removed chip codenames from docs, legacy APIs (`RockchipRga.h`, `rgaAPI.h`) now print deprecation notice on init. Fixed: various build errors, YUV444 CSC, multi-process `imfill`, C `librga.so` version query via `strings`, Android 8.1- `Android.mk` build. |
| 1.10.4     | 2025-04-03 | ≥ 1.3.9 (min 1.2.4)               | Added: RV1126B support, more CSC configuration combinations. Changed: documented offset alignment constraints for YUV 10-bit formats. Fixed: several build issues, BT.709 limited-range color space issues on some chips (needs driver ≥1.3.9), `imsetColorSpace()` unable to configure src1/pat color space. |
| 1.10.3     | 2025-01-16 | ≥ 1.3.7 (min 1.2.4)               | Added: RT-Thread platform support (cmake/scons), RV1103B/RK3506 support, Gaussian Blur API `imgaussianBlur()`, API support matrix in docs. Improved: support for pure-C builds. Changed: `RockchipRga` API will no longer get new features and is effectively frozen. |
| 1.10.2     | 2024-12-26 | ≥ 1.3.5 (min 1.2.4)               | Added: Android 15 support, meson static library build, global-alpha blending for RGB/YUV formats without alpha, auto FBC GraphicBuffer configuration. Improved: SLT coverage, SLT support for RK3576, IM2D debug log format. Changed: docs cloud link switched from Baidu Netdisk to Lenovo ZBox, task-mode max tasks increased from 50 to 256 (driver ≥1.3.4), `imsetAlphaBit` / `imsetOpacity` / `imsetColorSpace` converted to C APIs. Fixed: `ENABLE` macro conflict with Android HAL, context acquisition with debug logs, `opt` and `full_csc` mis-configurations, 10-bit 4:2:2 format definitions, `alpha_demo` YUV dst format config. |
| 1.10.1     | 2024-03-06 | ≥ 1.3.0 (min 1.2.4)               | Added: RK3576 support, A8/Y8/YUV444_SP formats, compressed modes `RKFBC64x4` and `AFBC32x8 split`, TILE4x4 mode, configurable resize interpolation, `imsetAlphaBit()` for ARGB5551/ABGR5551 alpha mapping. Improved: sample CMake build configs. Changed: source code packages moved from Baidu Netdisk to Lenovo ZBox, minimum CMake 3.12, `imresize()` interpolation parameter now configurable, RGA2 no longer supports RGBA5551/BGRA5551/RGBA4444/BGRA4444. Fixed: various ARGB5551/ABGR5551/ARGB4444/ABGR4444 layout issues, `RkRgaIsReady()` return value. |
| 1.10.0_[9] | 2023-12-11 | ≥ 1.3.0 (min 1.2.4)               | Added: performance-impact Q&A, more features in `rgaImDemo` (RV1106 direct run, more blend modes, custom color for fill). Changed: legacy APIs (RockchipRga, C_API) keep existing features only and do not support `globalAlpha`. Fixed: RK1808 hardware info query, `rga_req` reserved size, sample exit flows, GraphicBuffer allocation in samples, `importbuffer` return value, accidental close of fd 0, legacy blend mode configuration. |
| 1.10.0     | 2023-09-12 | ≥ 1.3.0 (min 1.2.4)               | Added: more Porter-Duff modes (src-in/dst-in/src-out/dst-out/src-atop/dst-atop/xor, driver ≥1.3.0), `imsetOpacity()` for per-plane alpha, `imsetColorSpace()` for per-plane color space, global-alpha sample code, GKI support (driver ≥1.3.0). Improved: FAQ regarding RGA2 and >4 GB address space. Changed: `samples/padding_demo` now uses dma32, color-space configuration migrated to `imsetColorSpace()`. Fixed: RGA2 RGB2YUV BT.709 limited-range support (driver ≥1.3.0), task API param loss in some conditions, minor sample issues. Removed: dependency on `ANDROID_12` SDK env var. |
| 1.9.3      | 2023-06-28 | ≥ 1.2.27 (min 1.2.4)              | Improved: documentation of sample features and `RK_FORMAT_XX` descriptions. Fixed: overly strict width/height constraints for FBC input (driver ≥1.2.27), typos in samples. |
| 1.9.2      | 2023-04-13 | ≥ 1.2.25 (min 1.2.4)              | Added: more checks for FBC/TILE8×8 constraints, FBC/Tile8×8 samples, down-sampling example for YUV422→YUV420 on chips without UV mean down-sampling. Improved: removed dependency on `libdrm.so` at build time. Fixed: `immakeBorder()` with top/bottom/left/right = 0, missing `release_fence` fd in some fill/color_palette cases. |
| 1.9.1      | 2023-02-06 | ≥ 1.2.24 (min 1.2.4)              | Added: RK3562 support, TILE8x8 and FBC samples. Improved: no `libdrm.so` dependency at build time, more complete TILE8x8/FBC parameter validation. Fixed: TILE8x8 runtime issues (driver ≥1.2.24), `imcheckHeader()` build errors in C programs, meson build failure for librga. |
| 1.9.0      | 2022-12-20 | ≥ 1.2.22 (min 1.2.4)              | Added: RK3528 support, Android 12 gralloc 0.3 support, header validation API, batch API (`im2d_task.h`), array-mode APIs, padding API, dynamic enable/disable of librga logs via Android properties/env vars, `drm_fourcc` support, standalone sample build doc, many scenario samples (allocator/alpha/async/config/copy/crop/cvtcolor/fill/mosaic/resize/rop/transform/padding). Improved: compatibility with `rga2` and multi_rga drivers, version checks, header structure and comments, CMake scripts. Fixed: RGA3 `dst-over` for YUV. |
| 1.8.1      | 2022-06-20 | –                                  | Fixed: mismatch between `wrapbuffer_handle` macro and C++ function signature, several compiler warnings. |
| 1.8.0      | 2022-05-25 | driver must be 1.2.6              | Added: RK3326S/RV1106/RV1103 support, English docs, mosaic/OSD APIs (on some chips), Rockit-ko kernel usage, `importbuffer` with `buffer_size` parameter (driver ≥1.2.9), default build of static and shared libs. Improved: richer error reporting for some APIs. Fixed: doc wording, `importbuffer` support for some formats. |
| 1.7.2      | 2022-01-20 | driver must be 1.2.6              | Added: async mode on Android/Linux, multi-constraint hardware checks, driver version checks in librga, RGA load query, import/release APIs for external buffers. Improved: CMake scripts, async mode task completion query. Changed: separated C++ and C implementations, support for Android 12 and earlier. Fixed: process exit on software signals. Removed: `genversion.sh`. |
| 1.6.0      | 2021-11-23 | –                                  | Added: RGA3 hardware support, task core selection and priority, fence in async mode, AFBC read/write utils, ROP on RK3588 RGA, CMake support for C APIs. Changed: driver model switched to `multi_rga`, `improcess` and `imsync` extended with fence and options structures, Linux temporarily drops async support, headers re-aligned with driver. Fixed: format naming, YUYV420 pixel size, macro temp variable naming to avoid conflicts. |
| 1.4.0      | 2021-11-10 | –                                  | Added: Android 12 build support. Changed: RockchipRga demo directory moved from `librga/sample/` to `librga/sample/legacy/`. |
| 1.3.1      | 2021-11-05 | –                                  | Added: ARGB4444/5551/8888 and XRGB8888 formats (with corresponding kernel support). Improved: CMake build support for SDK. Fixed: various known issues, kernel errors on RGA1 platforms, color conversion for BGR565/BGRA4444/BGRA5551, `globalAlpha` issues in IM2D API, crop check issues in `imcheck`, `rgaImDemo` fill-mode errors. |
| 1.3.0      | 2021-08-05 | –                                  | Added: improved src1 validation in 3-channel mode, `IM_ASYNC` usage. Changed: clarified `IM_SYNC` semantics (sync = 1 → sync mode with `IM_SYNC`; sync = 0 → async mode with `IM_ASYNC`). Fixed: alpha-blend with rotation in 3-channel mode. |
| 1.2.6      | 2021-08-02 | –                                  | Added: BGR565/BGRA5551/BGRA4444 formats (with corresponding kernel support). Improved: internal logic. Fixed: compile error when including `rga.h`, incorrect hardware support info in docs, potential errors when `RockchipRga` singleton is destroyed. Removed: unused logging. |
| 1.2.5      | 2021-07-08 | –                                  | Added: `docs/RGA_FAQ.md`, per-channel CSC in 3-channel blend mode. Changed: RGA hardware version rules, renamed `docs/README.md` to `docs/RGA_API_Instruction.md`. Improved: hardware version management, capability checks, clearer error messages. Fixed: `IMStrError()` thread-safety, image composition description in dev guide. |
| 1.2.4      | 2021-06-01 | –                                  | Added: two premultiplied-alpha blend modes 405 (src over) and 504 (dst over), per-plane color-space configuration for src/src1/dst in IM2D API. |
| 1.2.3      | 2021-05-31 | –                                  | Added: full CSC mode support. Changed: Debian package version. |
| 1.2.2      | 2021-04-26 | –                                  | Added: version-management section for IM2D docs, support for 256-level grayscale input (with scaling/cropping) on src (with corresponding kernel support). Fixed: incorrect CSC mode definitions in IM2D API, backward-compatibility issues when building with meson. Removed: some debug prints and unreasonable rotation checks. |
| 1.2.0      | 2021-04-26 | –                                  | Added: ROP support in IM2D API, sample images, Gralloc 4.0 support, looping/expected-output options in `rgaImDemo`, color-key, YUV color fill, RGA1 checks, multiple ways to query librga version, this `CHANGELOG.md`. Changed: some index definitions, updated IM2D docs, switched to Apache-2.0 license, `imresize()` down-alignment behaviour, removed global init, refined versioning. Improved: Android/Linux code unification, C_API usability, format compatibility, memory usage in `imStrError()`, sync/async configuration, `rgaSlt` demo features, hardware capability query, `imcheck()` extensibility, rotate+mirror coexistence, NN quantize + alpha blend coexistence. Fixed: various known issues, older Android build issues, C_API backward compatibility, YUV stride alignment, color-space issues in A+B→C. Removed: unused definitions, `libhardware` dependency, makefile builds, init logs, some C_API init logic. |
| 1.1.1      | 2020-11-12 | –                                  | Added: color palette, A+B→C alpha blend, src/dst/dst over blend modes, YUYV422 input and YUYV422/420 output, Y400/Y4/Y1 outputs, `wrapbuffer_handle` API, meson build for IM2D demo. Changed: license. Improved: version-management mechanism, Android NDK build. Fixed: black-line issue when using virtual address (cache), various known issues. |
| 1.0.3      | 2020-09-18 | –                                  | Added: IM2D API wrapper around original librga, meson and CMake build support. Changed: C_API implementation logic. Improved: source consolidation so Linux and Android share the same code base. |
| 1.0.0      | 2020-06-03 | –                                  | Added: librga ported to Android Q. |

